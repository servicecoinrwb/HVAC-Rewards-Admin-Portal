<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Service Point Network Rewards Portal</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/ethers@6.11.1/dist/ethers.umd.min.js"></script>
  <style>
    body { font-family: 'Inter', sans-serif; }
    .status-icon { font-size: 1.25rem; }
    #customer-list::-webkit-scrollbar, #transaction-log::-webkit-scrollbar { width: 6px; }
    #customer-list::-webkit-scrollbar-track, #transaction-log::-webkit-scrollbar-track { background: #374151; }
    #customer-list::-webkit-scrollbar-thumb, #transaction-log::-webkit-scrollbar-thumb { background: #6b7280; border-radius: 3px; }
  </style>
</head>

<body class="bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200">
  <div class="max-w-7xl mx-auto p-4 sm:p-6 lg:p-8">
    <header class="mb-10 pb-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center">
      <div>
        <h1 class="text-3xl font-bold text-gray-900 dark:text-white">Service Point Network</h1>
        <p class="text-lg text-gray-600 dark:text-gray-400">Rewards & Administration Portal</p>
      </div>
      <div id="wallet-status">
         <button onclick="connectWallet()" class="bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors">Connect Wallet</button>
      </div>
    </header>

    <div id="main-content" class="space-y-8">
        <!-- Step 1: Configuration -->
        <div class="bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg">
            <h2 class="text-2xl font-bold mb-4 text-gray-900 dark:text-white">1. System Configuration</h2>
            <p class="text-sm text-gray-600 dark:text-gray-400 mb-6">Please enter the deployed addresses for your smart contracts. All actions will be disabled until addresses are verified.</p>
            
            <div id="address-inputs" class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4">
                <!-- Programmatically generated inputs will go here -->
            </div>

            <div class="mt-6 text-center">
                <button id="verify-button" onclick="loadAndVerifyContracts()" class="bg-blue-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed" disabled>Load & Verify Contracts</button>
            </div>
        </div>

        <!-- This section is disabled until contracts are verified -->
        <div id="actions-wrapper" class="opacity-30 pointer-events-none">
            <main class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Left Column -->
                <div class="lg:col-span-1 space-y-8">
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg">
                        <h2 class="text-xl font-bold mb-4 border-b border-gray-200 dark:border-gray-700 pb-3">Fund Yield Contract</h2>
                        <div class="flex items-center gap-4">
                            <input id="fundAmount" type="number" placeholder="Reward Token Amount" class="block w-full bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 p-3">
                            <button onclick="fundYieldContract()" class="w-auto bg-blue-600 text-white font-bold py-3 px-5 rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap">Fund</button>
                        </div>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg">
                        <h2 class="text-xl font-bold mb-4 border-b border-gray-200 dark:border-gray-700 pb-3">Transaction Log</h2>
                        <ul id="transaction-log" class="space-y-2 h-96 overflow-y-auto text-sm">
                            <li class="text-gray-500 dark:text-gray-400">No actions performed yet.</li>
                        </ul>
                    </div>
                </div>
                <!-- Right Column -->
                <div class="lg:col-span-2 space-y-8">
                     <div class="bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg">
                        <h2 class="text-xl font-bold mb-4 border-b border-gray-200 dark:border-gray-700 pb-3">2. Add Customer</h2>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 items-end">
                            <div>
                                <label for="customerNumber" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Customer Number *</label>
                                <input type="text" id="customerNumber" placeholder="e.g. CUST-1001" class="mt-1 block w-full bg-gray-100 dark:bg-gray-700 rounded-lg p-3">
                            </div>
                            <div>
                                <label for="customerWallet" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Customer Wallet *</label>
                                <input type="text" id="customerWallet" placeholder="0x..." class="mt-1 block w-full bg-gray-100 dark:bg-gray-700 rounded-lg p-3">
                            </div>
                            <button onclick="addCustomer()" class="w-full md:w-auto bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700">Add Customer</button>
                        </div>
                    </div>
                     <div class="bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg">
                        <h2 class="text-xl font-bold mb-4 border-b border-gray-200 dark:border-gray-700 pb-3">3. Customer Actions</h2>
                        <div class="mb-6">
                            <label for="targetCustomer" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Target Customer</label>
                            <input type="text" id="targetCustomer" placeholder="Enter wallet address" class="mt-1 block w-full bg-gray-100 dark:bg-gray-700 rounded-lg p-3">
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div>
                                <h3 class="font-semibold text-lg mb-2">Issue Points</h3>
                                <div class="flex items-center gap-3">
                                    <input id="issueAmount" type="number" placeholder="e.g. 500" class="block w-full bg-gray-100 dark:bg-gray-700 rounded-lg p-3">
                                    <button onclick="issueSPN()" class="bg-green-600 text-white font-bold py-3 px-5 rounded-lg whitespace-nowrap">Issue SPN</button>
                                </div>
                            </div>
                            <div class="space-y-4">
                                <div>
                                    <h3 class="font-semibold text-lg">Convert SPN to SRV</h3>
                                    <button onclick="convertToSRV()" class="w-full bg-yellow-500 text-black font-bold py-3 px-4 rounded-lg">Convert</button>
                                </div>
                                <div>
                                    <h3 class="font-semibold text-lg">Stake SRV</h3>
                                    <button onclick="stakeSRV()" class="w-full bg-purple-600 text-white font-bold py-3 px-4 rounded-lg">Stake</button>
                                </div>
                            </div>
                        </div>
                    </div>
                     <div class="bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg">
                        <div class="flex justify-between items-center mb-4 border-b border-gray-200 dark:border-gray-700 pb-3">
                            <h2 class="text-xl font-bold">4. Customer Userbase</h2>
                            <button onclick="refreshAllBalances()" class="text-sm bg-gray-200 dark:bg-gray-700 font-semibold py-1 px-3 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600">Refresh All</button>
                        </div>
                        <div id="customer-list-container" class="h-64 overflow-y-auto pr-2">
                            <table class="w-full text-sm text-left">
                                <thead class="sticky top-0 bg-gray-50 dark:bg-gray-700 text-xs uppercase">
                                    <tr>
                                        <th class="px-4 py-3">Customer</th>
                                        <th class="px-4 py-3 text-right">SPN</th>
                                        <th class="px-4 py-3 text-right">SRV</th>
                                        <th class="px-4 py-3 text-right">SREV</th>
                                        <th class="px-4 py-3 text-right">USDC</th>
                                    </tr>
                                </thead>
                                <tbody id="customer-list">
                                    <tr><td colspan="5" class="text-center py-10 text-gray-500">No customers added.</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>
  </div>

  <script>
    let provider, signer;
    let customers = [];
    let contracts = {};

    const contractNames = ['spn', 'staking', 'srv', 'srev', 'converter', 'yield', 'reward'];

    const abis = {
        erc20: JSON.parse('[{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"to","type":"address"},{"name":"value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"}]'),
        spn: JSON.parse('[{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"issue","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),
        srv: JSON.parse(`[{"inputs":[{"components":[{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"},{"internalType":"string","name":"logo","type":"string"},{"internalType":"uint8","name":"decimals","type":"uint8"},{"internalType":"uint256","name":"initialSupply","type":"uint256"},{"internalType":"uint256","name":"maxSupply","type":"uint256"},{"internalType":"address","name":"treasury","type":"address"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"referrer","type":"address"},{"internalType":"address","name":"tokenStore","type":"address"},{"components":[{"components":[{"internalType":"uint256","name":"percentage","type":"uint256"},{"internalType":"bool","name":"onlyOnSwaps","type":"bool"}],"internalType":"struct ITokenLauncherERC20.FeeDetails","name":"transferFee","type":"tuple"},{"components":[{"internalType":"uint256","name":"percentage","type":"uint256"},{"internalType":"bool","name":"onlyOnSwaps","type":"bool"}],"internalType":"struct ITokenLauncherERC20.FeeDetails","name":"burn","type":"tuple"},{"components":[{"internalType":"uint256","name":"percentage","type":"uint256"},{"internalType":"bool","name":"onlyOnSwaps","type":"bool"}],"internalType":"struct ITokenLauncherERC20.FeeDetails","name":"reflection","type":"tuple"},{"components":[{"internalType":"uint256","name":"percentage","type":"uint256"},{"internalType":"bool","name":"onlyOnSwaps","type":"bool"}],"internalType":"struct ITokenLauncherERC20.FeeDetails","name":"buyback","type":"tuple"}],"internalType":"struct ITokenLauncherERC20.Fees","name":"fees","type":"tuple"},{"internalType":"address","name":"buybackHandler","type":"address"},{"internalType":"enum ITokenLauncherCommon.PaymentMethod","name":"paymentMethod","type":"uint8"}],"internalType":"struct ITokenLauncherERC20.CreateErc20Input","name":"_input","type":"tuple"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]`),
        converter: JSON.parse('[{"inputs":[{"internalType":"address","name":"_for","type":"address"}],"name":"convert","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),
        staking: JSON.parse('[{"inputs":[{"internalType":"address","name":"_for","type":"address"}],"name":"stake","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),
        yield: JSON.parse(`[{"inputs":[{"internalType":"address","name":"_rewardToken","type":"address"},{"internalType":"address","name":"_srevToken","type":"address"},{"internalType":"address","name":"_daoOperator","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"fund","outputs":[],"stateMutability":"nonpayable","type":"function"}]`)
    };

    // --- Initialization ---
    document.addEventListener('DOMContentLoaded', () => {
        const addressInputsDiv = document.getElementById('address-inputs');
        contractNames.forEach(name => {
            const div = document.createElement('div');
            div.className = 'flex items-center gap-2';
            div.innerHTML = `
                <label for="${name}-addr" class="block text-sm font-semibold w-32 shrink-0 text-right">${name.toUpperCase()} Address:</label>
                <input type="text" id="${name}-addr" class="block w-full bg-gray-100 dark:bg-gray-700 rounded-lg p-2 font-mono text-sm">
                <span id="${name}-status" class="status-icon"></span>
            `;
            addressInputsDiv.appendChild(div);
        });
        loadCustomersFromStorage();
    });

    // --- Wallet & Contract Loading ---
    async function connectWallet() {
        if (typeof window.ethereum === 'undefined') return showModal('Error', 'MetaMask is not installed.');
        try {
            provider = new ethers.BrowserProvider(window.ethereum);
            signer = await provider.getSigner();
            const address = await signer.getAddress();
            
            document.getElementById('wallet-status').innerHTML = `<div class="text-right"><p class="font-semibold text-green-500">Connected</p><p class="text-xs font-mono">${address.substring(0, 6)}...${address.substring(address.length - 4)}</p></div>`;
            document.getElementById('verify-button').disabled = false;
            addLogEntry(`Wallet ${address.substring(0,6)}... connected.`);
        } catch (err) {
            console.error("Connection failed:", err);
            showModal('Connection Failed', err.message || 'Could not connect to wallet.');
        }
    }

    async function loadAndVerifyContracts() {
        if (!signer) return showModal('Error', 'Please connect your wallet first.');
        addLogEntry('Verifying contract addresses...');
        let allVerified = true;
        
        for (const name of contractNames) {
            const addr = document.getElementById(`${name}-addr`).value.trim();
            const statusEl = document.getElementById(`${name}-status`);
            if (!ethers.isAddress(addr)) {
                statusEl.textContent = '❌';
                allVerified = false;
                continue;
            }
            try {
                const code = await provider.getCode(addr);
                if (code !== '0x') {
                    statusEl.textContent = '✅';
                    // Re-create contract instance with verified address
                    if (name === 'spn') contracts.spn = new ethers.Contract(addr, [...abis.erc20, ...abis.spn], signer);
                    else if (name === 'srv' || name === 'srev') contracts[name] = new ethers.Contract(addr, abis.srv, signer);
                    else if (name === 'reward') contracts.reward = new ethers.Contract(addr, abis.erc20, signer);
                    else if (contracts[name]) contracts[name] = new ethers.Contract(addr, abis[name], signer);

                } else {
                    statusEl.textContent = '❌';
                    allVerified = false;
                }
            } catch (e) {
                statusEl.textContent = '❌';
                allVerified = false;
            }
        }

        if (allVerified) {
            document.getElementById('actions-wrapper').classList.remove('opacity-30', 'pointer-events-none');
            showModal('Success', 'All contracts verified! You can now use the portal actions.');
            addLogEntry('All contracts verified successfully.');
        } else {
            document.getElementById('actions-wrapper').classList.add('opacity-30', 'pointer-events-none');
            showModal('Verification Failed', 'One or more contract addresses are invalid. Please check the addresses and try again.');
        }
    }


    // --- Customer Management & Persistence ---
    function saveCustomersToStorage() {
        const customersToSave = customers.map(c => ({id: c.id, wallet: c.wallet}));
        localStorage.setItem('spn_customer_userbase', JSON.stringify(customersToSave));
    }

    function loadCustomersFromStorage() {
        const storedCustomers = localStorage.getItem('spn_customer_userbase');
        if (storedCustomers) {
            customers = JSON.parse(storedCustomers);
            renderCustomers();
            if(signer) {
                refreshAllBalances();
            }
        }
    }

    async function fetchCustomerBalances(walletAddress) {
        if (!provider || Object.keys(contracts).length === 0) return { spn: 0, srv: 0, srev: 0, usdc: 0 };
        const balances = { spn: 'Err', srv: 'Err', srev: 'Err', usdc: 'Err' };
        
        try {
            const spnBalance = await contracts.spn.balanceOf(walletAddress);
            balances.spn = parseFloat(ethers.formatUnits(spnBalance, 18));
        } catch (e) { console.error(`Failed to fetch SPN balance for ${walletAddress}:`, e); }

        try {
            const srvBalance = await contracts.srv.balanceOf(walletAddress);
            balances.srv = parseFloat(ethers.formatUnits(srvBalance, 18));
        } catch (e) { console.error(`Failed to fetch SRV balance for ${walletAddress}:`, e); }
        
        try {
            const srevBalance = await contracts.srev.balanceOf(walletAddress);
            balances.srev = parseFloat(ethers.formatUnits(srevBalance, 18));
        } catch (e) { console.error(`Failed to fetch SREV balance for ${walletAddress}:`, e); }
        
        try {
            const usdcBalance = await contracts.reward.balanceOf(walletAddress);
            balances.usdc = parseFloat(ethers.formatUnits(usdcBalance, 6));
        } catch (e) { console.error(`Failed to fetch USDC balance for ${walletAddress}:`, e); }

        return balances;
    }

    async function addCustomer() {
        const customerNumberInput = document.getElementById('customerNumber');
        const customerWalletInput = document.getElementById('customerWallet');
        
        const customerNumber = customerNumberInput.value.trim();
        const customerWallet = customerWalletInput.value.trim();

        if (!customerNumber || !customerWallet) return showModal('Input Error', 'Please provide both a customer number and a wallet address.');
        if (!ethers.isAddress(customerWallet)) return showModal('Input Error', 'Please enter a valid wallet address.');
        if (!signer) return showModal('Error', 'Please connect your wallet first.');

        const balances = await fetchCustomerBalances(customerWallet);
        customers.push({ id: customerNumber, wallet: customerWallet, ...balances });
        
        saveCustomersToStorage();
        renderCustomers();
        addLogEntry(`Added customer ${customerNumber} (${customerWallet.substring(0,6)}...).`);
        
        customerNumberInput.value = '';
        customerWalletInput.value = '';
    }
    
    async function refreshAllBalances() {
        if (customers.length === 0) return showModal('Info', 'No customers to refresh.');
        addLogEntry('Refreshing all customer balances...');
        for (const customer of customers) {
            const balances = await fetchCustomerBalances(customer.wallet);
            Object.assign(customer, balances);
        }
        saveCustomersToStorage();
        renderCustomers();
        addLogEntry('All balances updated.');
    }

    function renderCustomers() {
        const customerListBody = document.getElementById('customer-list');
        if (customers.length === 0) {
            customerListBody.innerHTML = `<tr><td colspan="5" class="text-center py-10 text-gray-500 dark:text-gray-400">No customers added yet.</td></tr>`;
            return;
        }
        customerListBody.innerHTML = '';
        customers.forEach(customer => {
            const tr = document.createElement('tr');
            tr.className = 'bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 border-b dark:border-gray-700';
            tr.innerHTML = `
                <td class="px-4 py-3">
                    <p class="font-semibold text-sm text-gray-900 dark:text-gray-100">${customer.id}</p>
                    <p class="text-xs font-mono text-gray-500 dark:text-gray-400">${customer.wallet.substring(0,6)}...${customer.wallet.substring(38)}</p>
                </td>
                <td class="px-4 py-3 text-right font-mono">${typeof customer.spn === 'number' ? customer.spn.toLocaleString() : customer.spn}</td>
                <td class="px-4 py-3 text-right font-mono">${typeof customer.srv === 'number' ? customer.srv.toLocaleString() : customer.srv}</td>
                <td class="px-4 py-3 text-right font-mono">${typeof customer.srev === 'number' ? customer.srev.toLocaleString() : customer.srev}</td>
                <td class="px-4 py-3 text-right font-mono">$${typeof customer.usdc === 'number' ? customer.usdc.toFixed(2) : customer.usdc}</td>
            `;
            customerListBody.appendChild(tr);
        });
    }

    // --- Action Functions ---
    async function issueSPN() {
        const target = document.getElementById('targetCustomer').value;
        const amount = document.getElementById('issueAmount').value;
        if (!target || !amount) return showModal('Input Error', 'Please provide a target wallet and an amount to issue.');
        await handleTransaction(contracts.spn, 'issue', [target, ethers.parseUnits(amount, 18)], `Issue ${amount} SPN`);
    }

    async function convertToSRV() {
        const target = document.getElementById('targetCustomer').value;
        if (!target) return showModal('Input Error', 'Please provide a target wallet address.');
        await handleTransaction(contracts.converter, 'convert', [target], 'Convert SPN to SRV');
    }

    async function stakeSRV() {
        const target = document.getElementById('targetCustomer').value;
        if (!target) return showModal('Input Error', 'Please provide a target wallet address.');
        await handleTransaction(contracts.staking, 'stake', [target], 'Stake SRV');
    }
    
    async function fundYieldContract() {
        const amount = document.getElementById('fundAmount').value;
        const yieldAddress = document.getElementById('yield-addr').value;
        if (!amount) return showModal('Input Error', 'Please enter an amount to fund.');
        if (!signer) return showModal('Error', 'Please connect your wallet and verify contracts first.');

        showModal('Processing', `Approving ${amount} Reward Tokens for the Yield Contract...`);
        try {
            const amountInUnits = ethers.parseUnits(amount, 6); 
            const approveTx = await contracts.reward.approve(yieldAddress, amountInUnits);
            await approveTx.wait();
            addLogEntry('Approval successful. Now funding contract...');
            
            await handleTransaction(contracts.yield, 'fund', [amountInUnits], `Fund Yield Contract with ${amount} tokens`);
        } catch(e) {
            console.error("Funding failed", e);
            showModal('Error', `Funding failed: ${e.message}`);
        }
    }
    
    async function handleTransaction(contract, method, args, name) {
        if (!signer) return showModal('Error', 'Please connect your wallet first.');
        showModal('Processing', `Sending "${name}" transaction...`);
        try {
            const tx = await contract[method](...args);
            addLogEntry(`Transaction sent for "${name}": ${tx.hash.substring(0,10)}...`);
            await tx.wait();
            showModal('Success', `"${name}" transaction confirmed!`);
            addLogEntry(`"${name}" transaction confirmed.`);
            refreshAllBalances();
        } catch (e) {
            console.error(`${name} failed:`, e);
            showModal('Error', `${name} failed: ${e.reason || e.message}`);
        }
    }

    // --- Logging ---
    function addLogEntry(message) {
        const logList = document.getElementById('transaction-log');
        if (logList.children.length === 1 && logList.children[0].innerText.startsWith('No actions')) {
            logList.innerHTML = '';
        }
        
        const li = document.createElement('li');
        li.className = 'text-gray-600 dark:text-gray-400 border-b border-gray-200 dark:border-gray-700 pb-1';
        
        const timestamp = new Date().toLocaleTimeString();
        li.innerHTML = `<span class="font-mono text-xs mr-2">[${timestamp}]</span> ${message}`;
        
        logList.prepend(li);
        if (logList.children.length > 50) {
            logList.removeChild(logList.lastChild);
        }
    }

    // --- UI Utility: Modal ---
    function showModal(title, message) {
        const existingModal = document.getElementById('alertModal');
        if (existingModal) existingModal.remove();

        const modal = document.createElement('div');
        modal.id = 'alertModal';
        modal.className = 'fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4';
        modal.innerHTML = `
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-2xl p-6 w-full max-w-sm text-center border-2 border-blue-500">
                <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-4">${title}</h3>
                <p class="text-gray-600 dark:text-gray-300 mb-6 break-words">${message}</p>
                <button onclick="document.getElementById('alertModal').remove()" class="bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700">Close</button>
            </div>
        `;
        document.body.appendChild(modal);
    }
  </script>
</body>
</html>
